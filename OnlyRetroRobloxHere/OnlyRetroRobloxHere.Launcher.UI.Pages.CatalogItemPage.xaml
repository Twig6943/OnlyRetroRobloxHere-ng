<?xml version="1.0" encoding="utf-8"?>
<local:BasePage x:Class="OnlyRetroRobloxHere.Launcher.UI.Pages.CatalogItemPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:clr="clr-namespace:System;assembly=mscorlib" xmlns:controls="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.Controls" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:gif="clr-namespace:XamlAnimatedGif;assembly=XamlAnimatedGif" xmlns:local="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.Pages" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:viewmodels="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.ViewModels.Pages" Title="CatalogItemPage" FontFamily="Verdana" TextOptions.TextFormattingMode="Display">
    <FrameworkElement.Resources>
        <ResourceDictionary>
            <Style x:Key="YellowButton" TargetType="{x:Type Button}">
                <Setter Property="Background" Value="#F5CD2F" />
                <Setter Property="BorderBrush" Value="#6E99C9" />
                <Setter Property="Foreground" Value="#FF000000" />
                <Setter Property="FontSize" Value="15" />
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Padding" Value="5" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="HorizontalContentAlignment" Value="Center" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="FrameworkElement.Cursor" Value="Hand" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Border Name="border" Background="{TemplateBinding Control.Background}" BorderBrush="{TemplateBinding Control.BorderBrush}" BorderThickness="{TemplateBinding Control.BorderThickness}" SnapsToDevicePixels="true">
                                <ContentPresenter Name="contentPresenter" Margin="{TemplateBinding Control.Padding}" HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" Focusable="False" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="UIElement.IsMouseOver" Value="true">
                                    <Setter TargetName="border" Property="Border.Background" Value="#FF9D2F" />
                                </Trigger>
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter TargetName="border" Property="Border.Background" Value="#FF9D2F" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </FrameworkElement.Resources>
    <Grid>
        <controls:StandardBoxCustomHeader Margin="10">
            <controls:StandardBoxCustomHeader.HeaderContent>
                <Grid>
                    <Button Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center" Panel.ZIndex="2" Background="#00FFFFFF" BorderThickness="0" FontSize="12" Foreground="{DynamicResource Theme.Accent.Highlight}" Style="{StaticResource ButtonNoEffects}" Click="ModalGoToCatalogButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" FontSize="8" FontWeight="Bold" Text="&lt;" />
                            <TextBlock Margin="-2,0,0,0" VerticalAlignment="Center" FontSize="8" FontWeight="Bold" Text="&lt;" />
                            <TextBlock Text=" Back" />
                        </StackPanel>
                    </Button>
                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="16" FontWeight="Bold" Foreground="#FFFFFFFF" Text="{Binding Path=Item.Name, Mode=OneTime}" />
                </Grid>
            </controls:StandardBoxCustomHeader.HeaderContent>
            <Grid>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" Margin="0,0,0,10" Orientation="Horizontal" SnapsToDevicePixels="True" UseLayoutRounding="True">
                        <Border Background="{StaticResource ItemImageBackground}">
                            <Grid>
                                <controls:FancyLazyImage Width="300" Height="300" HorizontalAlignment="Left" RenderOptions.BitmapScalingMode="HighQuality" ImagePath="{Binding Path=Item.Image, Mode=OneTime}" />
                                <StackPanel Margin="2" HorizontalAlignment="Left" VerticalAlignment="Bottom" Orientation="Horizontal" Visibility="{Binding Path=BoomBoxVisibility, Mode=OneWay}">
                                    <Button Width="88" Height="88" Padding="0" Background="#00FFFFFF" BorderThickness="0" Style="{StaticResource ButtonNoEffects}" Click="BoomBoxButton_Click">
                                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Secrets/Boombox.png" />
                                    </Button>
                                    <Border Margin="2,0,0,0" Padding="2" Background="#77000000" CornerRadius="4" Visibility="{Binding Path=MusicConfigVisibility, Mode=OneWay}">
                                        <StackPanel>
                                            <TextBlock Style="{StaticResource TextBlockWhite}" Text="Music" />
                                            <ComboBox ItemsSource="{Binding Path=MusicOptions, Mode=OneTime}" SelectedItem="{Binding Path=MusicSelectedItem, Mode=TwoWay}" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </StackPanel>
                    <controls:StandardBox Grid.Row="1" HeaderText="Recommendations">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <TextBlock Margin="0,0,0,2" FontSize="10" Style="{StaticResource TextBlockWhite}" Text="{Binding Path=Item.TypeNamePlural, Converter={StaticResource StringFormatConverter}, ConverterParameter=Here are some other {0} that we think you might like., Mode=OneTime}" />
                            <ItemsControl Grid.Row="1" ItemsSource="{Binding Path=Recommendations, Mode=OneTime}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="8" Rows="2" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Button MinWidth="75" MaxWidth="110" Margin="0,1" Background="#00FFFFFF" BorderThickness="0" Style="{StaticResource ButtonNoEffects}" Tag="{Binding Path=Id, Mode=OneWay}" Click="OnItemRecommendationClicked">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <Border Grid.Row="0" Width="75" Height="75" Padding="2" Background="{StaticResource ItemImageBackground}" BorderBrush="#FF000000" BorderThickness="1" SnapsToDevicePixels="True">
                                                    <Border BorderBrush="#FF000000" BorderThickness="1" SnapsToDevicePixels="True">
                                                        <controls:FancyLazyImage HorizontalAlignment="Center" VerticalAlignment="Top" RenderOptions.BitmapScalingMode="HighQuality" ImagePath="{Binding Path=Image, Mode=OneWay}" />
                                                    </Border>
                                                </Border>
                                                <Border Grid.Row="1" Width="75" Height="70" Padding="2" Background="#FF000000" SnapsToDevicePixels="True">
                                                    <TextBlock FontSize="10" FontWeight="Bold" Foreground="{DynamicResource Theme.Accent.Highlight}" Style="{StaticResource TextBlockWhite}" TextAlignment="Center" TextWrapping="Wrap" Text="{Binding Path=Name, Mode=OneWay}" />
                                                </Border>
                                            </Grid>
                                        </Button>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </controls:StandardBox>
                </Grid>
                <Border Width="480" Padding="10" HorizontalAlignment="Right" VerticalAlignment="Top" Background="{DynamicResource ItemPageBox}" BorderBrush="#555555" BorderThickness="1">
                    <StackPanel>
                        <ItemsControl Margin="0,0,0,8" FontSize="24" Foreground="#FFFFFFFF" ItemsSource="{Binding Path=Item.TypeName, Converter={StaticResource StringFormatConverter}, ConverterParameter=ROBLOX {0}, Mode=OneTime}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="0,0,4,0" Text="{Binding}" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <Grid Margin="0,0,0,2">
                            <TextBlock VerticalAlignment="Center" FontWeight="Bold" Foreground="#008000" Text="R$: Your Soul" TextAlignment="Left" />
                            <Button Padding="10,3" HorizontalAlignment="Right" VerticalAlignment="Center" IsEnabled="{Binding Path=DoesNotOwn}" Click="OnPurchaseClicked">
                                <ContentControl.Content>
                                    <TextBlock>
                                        <TextBlock.Text>
                                            <MultiBinding Converter="{StaticResource TernaryStringConverter}">
                                                <Binding Path="DoesNotOwn" />
                                                <Binding>
                                                    <Binding.Source>
                                                        <system:String xmlns:system="clr-namespace:System;assembly=System.Private.CoreLib">Buy with R$</system:String>
                                                    </Binding.Source>
                                                </Binding>
                                                <Binding>
                                                    <Binding.Source>
                                                        <String xmlns="clr-namespace:System;assembly=System.Private.CoreLib">Already Own</String>
                                                    </Binding.Source>
                                                </Binding>
                                            </MultiBinding>
                                        </TextBlock.Text>
                                    </TextBlock>
                                </ContentControl.Content>
                            </Button>
                        </Grid>
                        <TextBlock Margin="0,0,0,2" Style="{StaticResource TextBlockWhite}" Text="{Binding Path=Item.Creator, Converter={StaticResource StringFormatConverter}, ConverterParameter=Creator: {0}, Mode=OneTime}" Visibility="{Binding Path=ShowCreatorName, Converter={StaticResource BoolToVisibilityConverter}}" />
                        <TextBlock Margin="0,0,0,2" Style="{StaticResource TextBlockWhite}" Text="{Binding Path=CreationDate, Converter={StaticResource StringFormatConverter}, ConverterParameter=Created: {0}, Mode=OneTime}" Visibility="{Binding Path=ShowCreationDate, Converter={StaticResource BoolToVisibilityConverter}}" />
                        <StackPanel Visibility="{Binding Path=ShowDescription, Converter={StaticResource BoolToVisibilityConverter}, Mode=OneTime}">
                            <TextBlock Grid.Row="1" Margin="0,0,0,2" Style="{StaticResource TextBlockWhite}" Text="Description:" />
                            <Border Grid.Row="2" MaxHeight="170" Padding="5" Background="{DynamicResource Theme.Control.Background}" BorderBrush="{DynamicResource Theme.Control.Border}" BorderThickness="1" SnapsToDevicePixels="True">
                                <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
                                    <TextBlock Style="{StaticResource TextBlockWhite}" TextWrapping="Wrap" Text="{Binding Path=Item.Description, Mode=OneTime}" />
                                </ScrollViewer>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </controls:StandardBoxCustomHeader>
        <Grid Name="BuyModal" ZIndex="1337" Background="#7F777777" Visibility="{Binding Path=ModalVisibility, Mode=OneWay}">
            <Border Width="400" HorizontalAlignment="Center" VerticalAlignment="Center" Background="#FFFFDD" BorderBrush="#808080" BorderThickness="3" SnapsToDevicePixels="True" UseLayoutRounding="True">
                <UIElement.Effect>
                    <DropShadowEffect BlurRadius="0" RenderingBias="Quality" ShadowDepth="10" />
                </UIElement.Effect>
                <Grid>
                    <StackPanel Name="BuyModalPurchaseGrid" Margin="30,20" Visibility="{Binding Path=ModalPurchaseGridVisibility, Mode=OneWay}">
                        <ItemsControl Margin="0,0,0,20" FontSize="20" Foreground="#808080">
                            <ItemsControl.ItemsSource>
                                <Binding>
                                    <Binding.Source>
                                        <String xmlns="clr-namespace:System;assembly=System.Private.CoreLib">Purchase Item:</String>
                                    </Binding.Source>
                                </Binding>
                            </ItemsControl.ItemsSource>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="0,0,2,0" Text="{Binding}" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock MaxHeight="58" Margin="0,0,0,20" Foreground="#808080" TextWrapping="Wrap">
                            <TextBlock.Text>
                                <MultiBinding Converter="{StaticResource MultiStringFormatConverter}" ConverterParameter="Would you like to purchase {0} &quot;{1}&quot; from {2} for Your Soul?">
                                    <Binding Path="Item.TypeName" />
                                    <Binding Path="Item.Name" />
                                    <Binding Path="Item.Creator" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock Margin="0,0,0,20" Foreground="#808080" Text="Your balance after this transaction will be No Souls." />
                        <Button Margin="0,0,0,20" Padding="8" Content="Buy Now!" FontSize="18" Style="{StaticResource YellowButton}" Click="ModalBuyButton_Click" />
                        <Button Padding="8" Content="Cancel" FontSize="18" Style="{StaticResource YellowButton}" Click="CloseModalButton_Click" />
                    </StackPanel>
                    <StackPanel Name="BuyModalSuccessGrid" Margin="30,20" Visibility="{Binding Path=ModalSuccessGridVisibility, Mode=OneWay}">
                        <ItemsControl Margin="0,0,0,20" FontSize="20" Foreground="#808080">
                            <ItemsControl.ItemsSource>
                                <Binding>
                                    <Binding.Source>
                                        <String xmlns="clr-namespace:System;assembly=System.Private.CoreLib">Purchase Complete</String>
                                    </Binding.Source>
                                </Binding>
                            </ItemsControl.ItemsSource>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="0,0,2,0" Text="{Binding}" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock MaxHeight="58" Margin="0,0,0,20" Foreground="#808080" TextWrapping="Wrap">
                            <TextBlock.Text>
                                <MultiBinding Converter="{StaticResource MultiStringFormatConverter}" ConverterParameter="You have successfully purchased {0} &quot;{1}&quot; from {2} for Your Soul.">
                                    <Binding Path="Item.TypeName" />
                                    <Binding Path="Item.Name" />
                                    <Binding Path="Item.Creator" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                        <Button Margin="0,0,0,20" HorizontalAlignment="Left" Background="#00FFFFFF" BorderThickness="0" Content="Continue Shopping" FontWeight="Bold" Foreground="#0000EE" Style="{StaticResource ButtonNoEffects}" Click="ModalGoToCatalogButton_Click" />
                        <Button HorizontalAlignment="Left" Background="#00FFFFFF" BorderThickness="0" Content="Customize Character" FontWeight="Bold" Foreground="#0000EE" Style="{StaticResource ButtonNoEffects}" Click="ModalGoToCharacterButton_Click" />
                    </StackPanel>
                    <StackPanel Name="BuyModalTransactionGrid" Margin="50,40" HorizontalAlignment="Center" Orientation="Horizontal" Visibility="{Binding Path=ModalProcessingGridVisibility, Mode=OneWay}">
                        <Image Grid.Column="0" Width="32" Height="32" Margin="0,0,10,0" gif:AnimationBehavior.SourceUri="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/ProgressIndicator.gif" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/ProgressIndicator.gif" />
                        <TextBlock Grid.Column="1" VerticalAlignment="Center" Foreground="#808080" Text="Processing transaction ..." TextAlignment="Center" />
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</local:BasePage>