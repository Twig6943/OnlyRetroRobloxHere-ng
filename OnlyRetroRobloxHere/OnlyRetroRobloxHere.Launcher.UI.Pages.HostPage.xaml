<?xml version="1.0" encoding="utf-8"?>
<local:BasePage x:Class="OnlyRetroRobloxHere.Launcher.UI.Pages.HostPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:behaviors="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.Behaviors" xmlns:controls="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.Controls" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:e="http://schemas.microsoft.com/xaml/behaviors" xmlns:local="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.Pages" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:viewmodels="clr-namespace:OnlyRetroRobloxHere.Launcher.UI.ViewModels.Pages" Loaded="OnPageLoaded" Title="HostPage" FontFamily="Verdana" TextOptions.TextFormattingMode="Display">
  <Grid Margin="10">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>
    <Grid Column="0" Margin="0,0,5,0">
      <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <controls:StandardBox HeaderText="Server Information">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
          </Grid.RowDefinitions>
          <TextBox Grid.Row="0" IsReadOnly="True" ScrollViewer.CanContentScroll="True" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto" Text="{Binding Path=ServerDetailsText, Mode=OneWay}" />
          <Button Grid.Row="1" Margin="0,4,0,0" Content="{Binding Path=CopyServerDetailsButtonText, Mode=OneWay}" Click="OnCopyServerDetailsButtonClicked" />
          <StackPanel Grid.Row="2" Margin="0,4,0,0">
            <StackPanel Orientation="Horizontal">
              <TextBlock Margin="0,0,5,0" FontSize="14" Style="{StaticResource TextBlockWhite}" Text="Display IP" />
              <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="IP to display in server information and send to the master server. Useful if you use tunneling software such as Playit. Leave blank to use your current IP." />
            </StackPanel>
            <TextBox Margin="0,0,0,2" Text="{Binding Path=DisplayIP, Mode=TwoWay}" />
            <StackPanel Orientation="Horizontal">
              <TextBlock Margin="0,0,5,0" FontSize="14" Style="{StaticResource TextBlockWhite}" Text="Display Port" />
              <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="Port to display in server information and the master server. Useful if you use tunneling software such as Playit. Leave blank to use the port used to host." />
            </StackPanel>
            <TextBox Text="{Binding Path=DisplayPortString, Mode=TwoWay}" />
          </StackPanel>
        </Grid>
      </controls:StandardBox>
      <controls:StandardBox Grid.Row="1" Margin="0,10,0,0" HeaderText="Master Server Configuration" Visibility="Collapsed">
        <StackPanel>
          <StackPanel Orientation="Horizontal">
            <TextBlock Margin="0,0,5,0" FontSize="14" Style="{StaticResource TextBlockWhite}" Text="Master Server Address" />
            <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="IP and Port of the Master Server in the format of [IP]:[Port]. Master servers send your server details to clients using the server browser to allow them to easily discover your server. Leave blank to disable this." />
          </StackPanel>
          <TextBox Margin="0,0,0,2" Text="" />
          <StackPanel Orientation="Horizontal">
            <TextBlock Margin="0,0,5,0" FontSize="14" Style="{StaticResource TextBlockWhite}" Text="Master Server Password" />
            <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="Some master servers may be configured to require authorization. Leave blank to use no password." />
          </StackPanel>
          <TextBox Text="" />
        </StackPanel>
      </controls:StandardBox>
      <controls:StandardBox Grid.Row="2" Margin="0,10,0,0" HeaderText="Hosting">
        <StackPanel>
          <TextBlock FontSize="14" Style="{StaticResource TextBlockWhite}" Text="Port" />
          <TextBox Margin="0,0,0,5" Text="{Binding Path=SelectedPort, Mode=TwoWay, Converter={StaticResource StringToUShortConverter}, ConverterParameter=53640}" />
          <CheckBox Margin="0,0,0,5" Content="Disable Rendering" FontSize="14" IsChecked="{Binding Path=ServerNo3D, Mode=TwoWay}" />
          <StackPanel Margin="0,0,0,5" Orientation="Horizontal">
            <CheckBox Margin="0,0,5,0" Content="Enable Auth" FontSize="14" IsChecked="{Binding Path=AuthEnabled, Mode=TwoWay}" />
            <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="Enables password authorization. Users entering your server will require to enter a key to be able to access your server. Keys can be generated through the given server inferface. This feature is still very experimental and may not work!" />
          </StackPanel>
          <StackPanel Orientation="Horizontal">
            <CheckBox Margin="0,0,5,0" Content="Enable Auto Save" FontSize="14" IsChecked="{Binding Path=AutoSaveEnabled, Mode=TwoWay}" />
            <Image Height="14" RenderOptions.BitmapScalingMode="HighQuality" Source="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/Help.png" ToolTip="Saves your game periodically. Useful to save your build games. Please note that saving on close does not work before 2009L and you will have to save manuaully." />
          </StackPanel>
          <controls:ImageButton Click="OnHostButtonClicked" Width="100" Height="100" Padding="0" Background="#00FFFFFF" BorderThickness="0" HoverImage="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/HostButtonHover.png" Image="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/HostButton.png" PressImage="pack://application:,,,/OnlyRetroRobloxHere;component/Resources/Launcher/HostButtonPressed.png" Style="{StaticResource ButtonNoEffects}" UseLayoutRounding="True">
            <Image RenderOptions.BitmapScalingMode="HighQuality">
              <UIElement.Effect>
                <DropShadowEffect BlurRadius="5" ShadowDepth="0" Color="Black" />
              </UIElement.Effect>
            </Image>
          </controls:ImageButton>
        </StackPanel>
      </controls:StandardBox>
    </Grid>
    <controls:StandardBox Grid.Column="1" Margin="5,0,0,0" HeaderText="Maps">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <TreeView Name="MapTreeView" Grid.Row="0" SnapsToDevicePixels="True" ItemsSource="{Binding Path=Maps, Mode=OneWay}">
          <e:Interaction.Behaviors>
            <behaviors:TreeViewBindableSelectedItemBehavior SelectedItem="{Binding Path=SelectedMap, Mode=TwoWay}" />
          </e:Interaction.Behaviors>
        </TreeView>
        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,5,0,0" HorizontalAlignment="Center" Orientation="Horizontal">
          <Button Width="100" Margin="0,0,5,0" Content="Reload" FontSize="14" Click="OnMapReloadClicked" />
          <Button Width="100" Margin="0,0,5,0" Content="Random" FontSize="14" Click="OnMapRandomClicked" />
          <Button Width="100" Content="Open Folder" FontSize="14" Click="OnMapOpenFolderClicked" />
        </StackPanel>
      </Grid>
    </controls:StandardBox>
  </Grid>
</local:BasePage>